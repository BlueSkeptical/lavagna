<div class="row">
    <div class="col-xs-12">
        <div class="lavagna-panel">
            <form role="form" data-ng-init="$ctrl.view.itemToUpdate = {shortName: $ctrl.project.shortName, name: $ctrl.project.name, description: $ctrl.project.description, archived: $ctrl.project.archived}; $ctrl.view.preview = false"
                  data-ng-submit="$ctrl.update($ctrl.view.itemToUpdate);$ctrl.view.preview = false" data-lvg-has-permission="PROJECT_ADMINISTRATION">
                <div class="body-full">
                    <div class="form-group">
                        <label for="name" data-translate>partials.project.manage-home.name</label>
                        <input type="text" class="form-control" id="name" placeholder="" required="required" autocomplete="off" data-ng-model="$ctrl.view.itemToUpdate.name">
                    </div>
                    <div class="form-group">
                        <label for="description" data-translate>partials.project.manage-home.description</label>
                        <div data-ng-if="!$ctrl.view.preview">
                            <textarea class="form-control" rows="3" id="description" data-ng-model="$ctrl.view.itemToUpdate.description"></textarea>
                        </div>
                        <div data-ng-if="$ctrl.view.preview">
                            <div data-ng-bind-html="$ctrl.view.itemToUpdate.description | markdown"></div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label><span data-translate>partials.project.manage-home.archived</span> <input type="checkbox" data-ng-model="itemToUpdate.archived"></label>
                    </div>
                </div>
                <div class="footer">
                    <button type="submit" class="lvg-button lvg-button-submit" data-translate>partials.project.manage-home.update</button>
                    <button type="button" class="lvg-button lvg-button-default" data-translate data-ng-click="$ctrl.view.preview = true" data-ng-hide="$ctrl.view.preview">button.preview</button>
                    <button type="button" class="lvg-button lvg-button-default" data-translate data-ng-click="$ctrl.view.preview = false" data-ng-show="$ctrl.view.preview">button.closePreview</button>
                </div>
            </form>
        </div>
    </div>
</div>

